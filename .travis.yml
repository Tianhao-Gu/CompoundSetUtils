language: python
python:
- '2.7'
sudo: required
services:
- docker
install:
- docker pull kbase/kb-sdk
- docker run kbase/kb-sdk genscript > $HOME/bin/kb-sdk
- chmod 755 $HOME/bin/kb-sdk
- export PATH=$PATH:$HOME/bin/kb-sdk
- kb-sdk sdkbase
- git clone https://github.com/JamesJeffryes/CompoundSetUtils.git
- cd CompoundSetUtils
- kb-sdk test || true
- make build-test-script
- sed -i "s/test_token=/test_token=$TEST_TOKEN/" test_local/test.cfg
- sed -i 's/$(id -u)/0:0/' test_local/run_tests.sh
script:
- kb-sdk test
env:
  global:
    secure: LJ9JwE0wEq/wJ4y0lFko1JIzHJsddLwaNzk0CY6op+X6o6fTJUO+BnPOgwqRGwyCt0yFVjfMs5NcXi+2du3445lpxFgHLbA1ZbLYAh84z141KOJe5upMzao4DEwv/9QvX3ZKD4rhO4z3AkXgNTv57960qeu5t22GycTy2bFR7keXPkUnMJ+ZrXxcKBGGrSPIw7wssFca54ArkfQw8mdfitIwJ76NM5V+EJ7a7nA4GFzgcE3LTF8cTM2xMReo+zw7o5DeOtfSm6sHV9REJYuBJyst4D31gn2Xpjo0VFv1c2a0HzsRanCV1rnPg4VyGSVj7fAUIyAwyFmwGMN76+0Rx1hvpgOju/skakD8fNRk85WbRfM2mEgvUb6PM3YCTJ6poXOUdRt8lGyehcjOeNTlrLzrs73yBduNKCs/LirU2FGDc5sVopYFNcoJzryg6nH0+PuKoOBaM0UN+o1xNy3v5k9fT5djVQ0HEUi5lK70PX/vx2dbQQ+8e5aIeHx3QvGv+GsCO/zsaVkvKdneaI1pAZhNqxhWSDFdvvhHpc0DPfwLtCD8C2YMf+ONd3j4spjmYYj/S+6Kkm6F7dc5BN8dSDM7igJE/4Fss6uMcX4BOrqYMS57kNUdxc0B+dgBrE9C/KA4qCLMlvh4aF7kSlDOvmrIMyTLrzSgU7zfD4RAY3M=